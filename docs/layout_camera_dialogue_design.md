# BlockKing 镜头与对话布局设计稿

更新时间：2026-02-08

## 目标
- 角色与关卡主体靠近屏幕底部，保留上半屏给前方信息与投射物轨迹。
- 教学对话框固定在屏幕上方，不遮挡角色与地面交互。
- 通过少量参数实现统一调节，避免每个场景单独改。

## 当前已落地参数

### 1) 玩家镜头地平线
- 文件：`player/Player.gd`
- 参数：`camera_horizon_offset_y = -220.0`
- 含义：相机相对玩家向上偏移 220 像素，玩家在屏幕中更靠下显示。

### 2) 教学关镜头范围
- 文件：`stages/stage0/section0_tutorial.tscn`
- 参数：不设置 `camera_limit_*`，保持 `camera_limit_enabled = false`
- 含义：教学关与 `section1_1` 使用同一布局策略（无 section 镜头限制）。

### 3) 教学对话框位置
- 文件：`ui/DialogueUI.tscn`
- 参数：
  - `DialogBox` 顶部锚点区间：`anchor_top = 0.028`，`anchor_bottom = 0.361`
  - 文本框开启：`autowrap_mode = 3`、`clip_text = true`
- 含义：对话框常驻上方，文本自动换行并裁剪，避免横向溢出。

## 推荐调参区间（后续统一按这个改）

| 项 | 推荐区间 | 默认建议 |
|---|---|---|
| `camera_horizon_offset_y` | `-180` 到 `-260` | `-220` |
| `camera_limit_top` | `-160` 到 `0` | `-120` |
| `camera_limit_bottom` | `680` 到 `800` | `720` |
| 对话框顶部高度区间 | 屏幕 `2%` 到 `8%` | `2.8%` 起 |
| 对话框高度 | 屏幕 `28%` 到 `36%` | `33.3%` |

## 快速调试流程
1. 先只改 `camera_horizon_offset_y`，观察玩家站地面时是否在屏幕下 1/3 区域。
2. 再微调 `camera_limit_top/bottom`，确保边界区域也不回弹到屏幕中间。
3. 最后调整对话框锚点，目标是：不挡角色头部、不挡远程弹道。

## 验收标准
- 玩家站立时脚底视觉位置约在屏幕高度 `75%~85%`。
- 远程敌人投射物全程可见，不被对话框遮挡关键判定区。
- 教学文本在 2~3 行内可读，超过时自动换行且不出框。
